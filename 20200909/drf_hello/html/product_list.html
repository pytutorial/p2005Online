<div id='app'></div>

<script>
  async function init() {
    var url = 'http://127.0.0.1:8000/api/search_product';
    var resp = await fetch(url);
    var result = await resp.json();
    //console.log(result);
    var html =         
        `<table border="1" style="width:100%">
          <thead>
            <tr>
              <th>STT</th>
              <th>Mã</th>
              <th>Tên</th>
            </tr>
          </thead>
          <tbody>
            ${result.map((p, i) =>
              `<tr>
                <td>${i+1}</td>
                <td>${p.code}</td>
                <td>${p.name}</td>
              </tr>`
            ).join('')}
          </tbody>
        </table>`;

    var el = document.getElementById('app');
    el.innerHTML = html;    
  }
  init();
</script>