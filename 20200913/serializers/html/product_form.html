<!--product_form.html-->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<div class="container pt-3">
  <form id='fmt'>
    <div class="form-group">
      <label>Mã sản phẩm :</label>
      <input class="form-control" name='code'>
    </div>
    <div class="form-group">
      <label>Tên sản phẩm:</label>
      <input class="form-control" name='name'>
    </div>
    <div class="form-group">
      <label>Giá sản phẩm:</label>
      <input type='number' class="form-control" name='price'>
    </div>  
    <div class="form-group">
      <label>Ảnh sản phẩm:</label>
      <input type="file" class="form-control-file" name="image">
    </div>
    <button class="btn btn-primary" onclick="saveProduct()" type="button">
      Lưu lại
    </button>
  </form>
</div>
<script>
  async function saveProduct() {
    var fmt = document.getElementById('fmt');
    var data = new FormData(fmt);
    var url = 'http://127.0.0.1:8000/api/create_product';
    var resp = await fetch(url, {body:data, method: 'POST'});
    var result = await resp.json();
    console.log(result);
    if(result.success) {
      alert('Sản phẩm đã được lưu');
    }else {
      alert('Lỗi xảy ra khi lưu sản phẩm');
    }
  }
</script>